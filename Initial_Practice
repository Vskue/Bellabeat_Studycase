
---
title: "Bellabeat:How Can a Wellness Technology Company Play It Smart?"
output:
  pdf_document: default
  html_document:
    df_print: paged
  word_document: default
---


#About Bellabeats
Urška Sršen and Sando Mur founded Bellabeat, a technology company that manufactures health-focused smart products. Bellabeats growth quickly positioned itself as a company for women. By 2016, Bellabeats expanded around the world and launched multiple products in collecting data on activity, sleep, stress, and reproductive health. Bellabeat successful e-commerce channel[https://bellabeat.com/] includes products such as: Leaf(necklace), Time(watch), & Spring(water bottle) linked to Bellabeat app. 


#Ask Phase

##Business Task

Find trending insight on "how consumers are using smart devices"

##Stakeholders

Urška Sršen(Co-Founder and CEO), Sando Mur(Mathematician and Co-Founder/Executive Team), and Bellabeats Marketing Analytics Team

##Business Objective: Find how smart devices are trending and help find a product from Bellabeats to adverstise.

#Prepare Phase

##About the dataset
I'm using a public domain, data set available through Mobius called FitBit Fitness Tracker Data [https://www.kaggle.com/datasets/arashnic/fitbit]. These data sets were generated by respondents to a distributed survey via Amazon Mechanical Turk between 03.12.2016-05.12.2016. This data set contains 33 voluntaries who have consent to the submission of personal tracker data, including minute-level daily activity, steps, heart rate, and sleep that can be used to explore users' habits.

There are 18 .csv documents containing output of daily, hours, and minutes within the 4 month. Each document contains quantitative data tracked by Fitbit. The data is considered long with each row with the 33 users personal number. Users can be identified by their unique log in and stamp date and time. 

##Verifying dataset  
Verifying the metadata of our data set we can confirm it is open-source. The owner has dedicated the work to the public domain by waiving all of his or her rights to the work worldwide under copyright law, including all related and neighboring rights, to the extent allowed by law. You can copy, modify, distribute and perform the work, even for commercial purposes, all without asking permission.

##Data credibility and Integrity

Due to the small sample size of 4 months and the limitations of the demographic of users age, sex, and location. I will review the most recent 2 months from 4.12.16-5.12.16  as a data-driven marketing approach that prioritizes the use of data to guide marketing decisions, strategies, and campaigns.

#Processing Phase

##Setting my Rstudio enviornment
Repository(CRAN)
```{r Installing Packages}
install.packages("tidyverse")
library(tidyverse)
library(dplyr)
library(ggplot2)
library(lubridate)
library(tidyr)
install.packages("here")
library(here)
install.packages("skimr")
library(skimr)
install.packages("janitor")
library(janitor)
install.packages("ggpubr")
library(ggpubr)
install.packages("ggrepel")
library(ggrepel)
```
##Data Cleaning

I'll be importing daily activity, daily intensity, steps ensuring each subject is identified by date and time. Which Fitbit data has the similarities based on the Bellabeats app.
* The Bellabeat app provides users with health data related to their activity, sleep, stress, menstrual cycle, and mindfulness habits.

```{r Importing CSV}
clean_names(dailyActivity)
dailyActivity <- rename_with(dailyActivity, tolower)

clean_names(dailyIntensities)
dailyIntensities <- rename_with(dailyIntensities, tolower)

clean_names(hourlySteps)
hourlySteps <- rename_with(hourlySteps, tolower)
```


```{r Counting number of users}
n_unique(dailyActivity$id)
n_unique(dailyIntensities$id)
n_unique(hourlySteps$id)
```
```{r Enuring there are no dups}
sum(duplicated(dailyActivity))
sum(duplicated(dailyIntensities))
sum(duplicated(hourlySteps))
```
#Data Formating

I noticed I need to change date and time format to yyyy,mm,dd
```{r}
str(dailyActivity)
```

I will convert string into time and date
```{r Converting string into time and date}
activity <- dailyActivity %>% 
  rename(date = activitydate) %>% 
  mutate(date = as.Date(date, format = "%m/%d/%y"))

intensities <- dailyIntensities %>% 
  rename(date = activityday) %>% 
  mutate(date = as.Date(date, format = "%m/%d/%y"))

hourlySteps$activityhour = as.POSIXct(hourlySteps$activityhour,format="%m/%d/%Y %I:%M:%S %p" , tz=Sys.timezone())

steps<- hourlySteps %>% 
  rename(date = activityhour)
```

```{r}
head(activity)
```
#Analyze Phase

##Summarizing

```{r}
summary(activity)
```
Interestingly most fitbits users average 192.8 minutes or 3 hours in light activities. Including, the average active day is on a Sunday, but we can say users are wearing it daily based on the sedentary minutes averaging at 991.2 or 16 hours.


```{r Summarizing the average calories, steps, and distance}
daily_average <- activity %>% 
  group_by(id) %>% 
  summarise(avg_daily_calories = mean(calories), avg_daily_steps = mean(totalsteps),avg_daily_distance = mean(totaldistance))
```

From the Cleveland Clinic.org website [https://health.clevelandclinic.org/10000-steps-a-day] 
Researchers have came up with these basic guidelines: 

Sedentary: Walking fewer than 5,000 steps per day.
Low active: Walking about 5,000 to 7,499 steps per day.
Somewhat active: Walking around 7,500 to 9,999 steps per day.
Active: Walking more than 10,000 steps per day.
Highly active: Walking more than 12,500 steps per day.

```{r}
daily_average <- daily_average %>% 
  group_by(id) %>% 
  summarise(avg_daily_calories, avg_daily_steps, avg_daily_distance) %>% 
  mutate(user_type = case_when(
    avg_daily_steps < 5000 ~ "sedentary",
    avg_daily_steps >= 5000 & avg_daily_steps < 7499 ~ "light",
    avg_daily_steps >= 7500 & avg_daily_steps < 9999 ~ "moderate",
    avg_daily_steps > 10000 ~ "active"
  ))
```

```{r}
user_percentage <- daily_average %>%
  group_by(user_type) %>% 
  summarise(total = n()) %>% 
  mutate(totals=sum(total)) %>% 
  group_by(user_type) %>% 
  summarise(total_percent=total/ totals) %>% 
  mutate(labels= scales::percent(total_percent))

user_percentage$user_type <- factor(user_percentage$user_type, levels=c("active", "moderate", "light", "sedentary"))
head(user_percentage)

```

```{r}
user_percentage %>% 
  ggplot(mapping = aes(x="", y=total_percent, fill= user_type))+
  geom_bar(stat = "identity", width = 1)+
  coord_polar("y", start = 0)+
  theme_minimal()+
  theme(axis.title.x = element_blank(),
        axis.title.y = element_blank(),
        panel.border = element_blank(),
        panel.grid = element_blank(),
        axis.ticks = element_blank(),
        axis.text.x = element_blank(),
        plot.title = element_text(hjust = 0.5, size = 14, face = "bold"))+
  geom_text(aes(label=labels),
            position = position_stack(vjust = 0.5))+
  labs(title="User Type Distribution")
```
Based on the pie chart, it is shown the 33 user types vary between light-moderate activities. This tells us smart devices does influenced users to be active and can inspire to do moderate-intensity exercises. 

(Final thought: Having Bellabeat membership should be promoted to increase user knowledge of types of exercise that inspires momentum)

```{r}
active_weekday <- activity %>%
  mutate(weekday = weekdays(date))

active_weekday$weekday <-ordered(active_weekday$weekday, levels=c("Monday", "Tuesday", "Wednesday", "Thursday",
"Friday", "Saturday", "Sunday"))

active_weekday <- active_weekday %>% 
  group_by(weekday) %>% 
  summarise(totalsteps = mean(totalsteps), totaldistance = mean(totaldistance),totalcalories = mean(calories))

head(active_weekday)
```

```{r}
ggarrange(
  ggplot(active_weekday) +
    geom_col(aes(weekday, totalsteps), fill = "#006699") +
    geom_hline(yintercept = 7500) +
    labs(title = "Daily steps per weekday", x="",y="") +
    theme(axis.title.x = element_text(angle = 45,vjust = 0.5,hjust = 1)),
  ggplot(active_weekday, aes(weekday, totaldistance)) +
    geom_col(fill = "purple") +
    geom_hline(yintercept = 3.00) +
    labs(title = "Magic number of steps is 5 miles", x= "", y= "")+
    theme(axis.text.x = element_text(angle = 45,vjust = 0.5,hjust = 1))
)
```
We can tell from the bar graph that the Monday, Thursday, and Sunday are the most active days. It tells us users are active in low to moderate activities by how many steps taken between 5,000 and 7,500.




```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

```{r cars}
summary(cars)
```

## Including Plots

You can also embed plots, for example:

```{r pressure, echo=FALSE}
plot(pressure)
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.
